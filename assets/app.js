angular.module("app",["ngRoute"]),angular.module("app").controller("ApplicationCtrl",["$scope","$location",function(t,e){t.$on("login",function(n,o){t.currentUser=o,e.path("/")}),t.$on("ask",function(){e.path("/")})}]),angular.module("app").controller("AskCtrl",["$scope","QuestionsSvc",function(t,e){t.addQuestion=function(){t.questionTitle&&t.questionBody&&e.create({username:"dickeyxxx",title:t.questionTitle,body:t.questionBody}).success(function(){t.$emit("ask"),t.questionTitle=null,t.questionBody=null})}}]),angular.module("app").controller("LoginCtrl",["$scope","$location","UserSvc",function(t,e,n){t.login=function(e,o){t.errorMsg="",n.login(e,o).then(function(e){t.$emit("login",e)},function(){t.errorMsg="Incorrect username/password."})}}]),angular.module("app").controller("PostsCtrl",["$scope","PostsSvc",function(t,e){t.addPost=function(){t.postBody&&e.create({username:"dickeyxxx",body:t.postBody}).success(function(e){t.posts.unshift(e),t.postBody=null})},e.fetch().success(function(e){t.posts=e})}]),angular.module("app").service("PostsSvc",["$http",function(t){this.fetch=function(){return t.get("/api/posts")},this.create=function(e){return t.post("/api/posts",e)}}]),angular.module("app").controller("QuestionsCtrl",["$scope","QuestionsSvc",function(t,e){t.addQuestion=function(){t.questionTitle&&t.questionBody&&e.create({username:"dickeyxxx",title:t.questionTitle,body:t.questionBody}).success(function(e){t.questions.unshift(e),t.questionTitle=null,t.questionBody=null})},e.fetch().success(function(e){t.questions=e})}]),angular.module("app").service("QuestionsSvc",["$http",function(t){this.fetch=function(){return t.get("/api/questions")},this.create=function(e){return t.post("/api/questions",e)}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc",function(t,e){t.register=function(n,o){e.register(n,o).then(function(e){t.$emit("login",e)})}}]),angular.module("app").config(["$routeProvider",function(t){t.when("/register",{controller:"RegisterCtrl",templateUrl:"/templates/register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"/templates/login.html"}).when("/ask",{controller:"AskCtrl",templateUrl:"/templates/ask.html"}).when("/",{controller:"QuestionsCtrl",templateUrl:"/templates/questions.html"})}]),angular.module("app").service("UserSvc",["$http",function(t){var e=this;e.getUser=function(){return t.get("/api/users").then(function(t){return t.data})},e.login=function(n,o){return t.post("/api/sessions",{username:n,password:o}).then(function(n){return e.token=n.data.token,t.defaults.headers.common["X-Auth"]=n.data,e.getUser()})},e.register=function(n,o){return t.post("/api/users",{username:n,password:o}).then(function(){return e.login(n,o)})},e.logout=function(t){delete t.token}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJhc2suY3RybC5qcyIsImxvZ2luLmN0cmwuanMiLCJwb3N0cy5jdHJsLmpzIiwicG9zdHMuc3ZjLmpzIiwicXVlc3Rpb25zLmN0cmwuanMiLCJxdWVzdGlvbnMuc3ZjLmpzIiwicmVnaXN0ZXIuY3RybC5qcyIsInJvdXRlcy5qcyIsInVzZXIuc3ZjLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJGxvY2F0aW9uIiwiJG9uIiwiXyIsInVzZXIiLCJjdXJyZW50VXNlciIsInBhdGgiLCJRdWVzdGlvbnNTdmMiLCJhZGRRdWVzdGlvbiIsInF1ZXN0aW9uVGl0bGUiLCJxdWVzdGlvbkJvZHkiLCJjcmVhdGUiLCJ1c2VybmFtZSIsInRpdGxlIiwiYm9keSIsInN1Y2Nlc3MiLCIkZW1pdCIsIlVzZXJTdmMiLCJsb2dpbiIsInBhc3N3b3JkIiwiZXJyb3JNc2ciLCJ0aGVuIiwiUG9zdHNTdmMiLCJhZGRQb3N0IiwicG9zdEJvZHkiLCJwb3N0IiwicG9zdHMiLCJ1bnNoaWZ0IiwiZmV0Y2giLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwicXVlc3Rpb24iLCJxdWVzdGlvbnMiLCJyZWdpc3RlciIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwic3ZjIiwiZ2V0VXNlciIsInJlc3BvbnNlIiwiZGF0YSIsInRva2VuIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwibG9nb3V0IiwiJGxvY2FsU3RvcmFnZSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsT0FDRSxZQ0RGRCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsbUJBQTRCLFNBQUEsWUFBQSxTQUFBQyxFQUFBQyxHQUMxQkQsRUFBQUUsSUFBQSxRQUFBLFNBQUFDLEVBQUFDLEdBQ0VKLEVBQUFLLFlBQUFELEVBR0VILEVBQUFLLEtBQUEs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QixNQUFBLFNBQUFOLEVBQUFPLEdBQ0UsTUFBQVcsR0FBQUwsS0FBQSxpQkFDRWIsU0FBQUEsRUFBQU8sU0FBQUEsSUFDRkUsS0FBQSxTQUFBcUIsR0FHRSxNQUZBRixHQUFBSSxNQUFBRixFQUFBQyxLQUFBQyxNQUNFZCxFQUFBZSxTQUFBQyxRQUFBQyxPQUFBLFVBQUFMLEVBQUFDLEtBQ0ZILEVBQUFDLGFBR0pELEVBQUFMLFNBQUEsU0FBQXZCLEVBQUFPLEdBQ0UsTUFBQVcsR0FBQUwsS0FBQSxjQUNBYixTQUFBQSxFQUFBTyxTQUFBQSxJQUNBRSxLQUFBLFdBQ0EsTUFBQW1CLEdBQUF0QixNQUFBTixFQUFBTyxNQUdBcUIsRUFBQVEsT0FBQSxTQUFBQyxTQUVJQSxHQUFBTCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xyXG4gICduZ1JvdXRlJ1xyXG5dKVxyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ3RybCcsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsIGZ1bmN0aW9uICgkc2NvcGUsICRsb2NhdGlvbikge1xyXG4gICRzY29wZS4kb24oJ2xvZ2luJywgZnVuY3Rpb24gKF8sIHVzZXIpIHtcclxuICAgICRzY29wZS5jdXJyZW50VXNlciA9IHVzZXJcclxuXHJcbiAgICAgIC8vIFJlZGlyZWN0IHRvIHBvc3RzXHJcbiAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XHJcbiAgfSlcclxuICAgICRzY29wZS4kb24oJ2FzaycsIGZ1bmN0aW9uKF8sIHVzZXIpe1xyXG4gICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XHJcbiAgICB9KVxyXG59XSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAvKi5jb250cm9sbGVyKCdBc2tDdHJsJywgZnVuY3Rpb24gKCRzY29wZSl7XHJcbiAgICAgICAgICAgICRzY29wZS5hZGRRdWVzdGlvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlc3Rpb24gPSB7IHRpdGxlOiAkc2NvcGUudGl0bGUsIGJvZHk6ICRzY29wZS5ib2R5IH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3F1ZXN0aW9ucycsIHF1ZXN0aW9uKVxyXG4gICAgICAgICAgICB9XHJcbiAgICB9KSovXHJcblxyXG4gICAgLmNvbnRyb2xsZXIoJ0Fza0N0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFF1ZXN0aW9uc1N2Yyl7XHJcbiAgICAgICAgJHNjb3BlLmFkZFF1ZXN0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmKCRzY29wZS5xdWVzdGlvblRpdGxlICYmICRzY29wZS5xdWVzdGlvbkJvZHkpe1xyXG4gICAgICAgICAgICAgICAgUXVlc3Rpb25zU3ZjLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICdkaWNrZXl4eHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkc2NvcGUucXVlc3Rpb25UaXRsZSxcclxuICAgICAgICAgICAgICAgICAgICBib2R5OiAkc2NvcGUucXVlc3Rpb25Cb2R5XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocXVlc3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnYXNrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnF1ZXN0aW9uVGl0bGUgPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnF1ZXN0aW9uQm9keSA9IG51bGxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1VzZXJTdmMnLCBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24sIFVzZXJTdmMpIHtcclxuICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcblxyXG4gICAgICAkc2NvcGUuZXJyb3JNc2cgPSAnJztcclxuXHJcbiAgICBVc2VyU3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcclxuICAgIC50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnbG9naW4nLCB1c2VyKVxyXG4gICAgfSxcclxuXHJcbiAgICBmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICRzY29wZS5lcnJvck1zZyA9ICdJbmNvcnJlY3QgdXNlcm5hbWUvcGFzc3dvcmQuJztcclxuICAgICAgICAvLyRsb2NhdGlvbi5wYXRoKCcvcmVnaXN0ZXInKTtcclxuICAgIH0pXHJcbiAgfVxyXG59XSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdQb3N0c0N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBQb3N0c1N2Yykge1xyXG4gICRzY29wZS5hZGRQb3N0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCRzY29wZS5wb3N0Qm9keSkge1xyXG4gICAgICBQb3N0c1N2Yy5jcmVhdGUoe1xyXG4gICAgICAgIHVzZXJuYW1lOiAnZGlja2V5eHh4JyxcclxuICAgICAgICBib2R5OiAgICAgJHNjb3BlLnBvc3RCb2R5XHJcbiAgICAgIH0pXHJcbiAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChwb3N0KSB7XHJcbiAgICAgICAgJHNjb3BlLnBvc3RzLnVuc2hpZnQocG9zdClcclxuICAgICAgICAkc2NvcGUucG9zdEJvZHkgPSBudWxsXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBQb3N0c1N2Yy5mZXRjaCgpXHJcbiAgLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3RzKSB7XHJcbiAgICAkc2NvcGUucG9zdHMgPSBwb3N0c1xyXG4gIH0pXHJcbn0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uc2VydmljZSgnUG9zdHNTdmMnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuICB0aGlzLmZldGNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wb3N0cycpXHJcbiAgfVxyXG4gIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHBvc3QpIHtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Bvc3RzJywgcG9zdClcclxuICB9XHJcbn0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignUXVlc3Rpb25zQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgUXVlc3Rpb25zU3ZjKXtcclxuICAgICRzY29wZS5hZGRRdWVzdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmKCRzY29wZS5xdWVzdGlvblRpdGxlICYmICRzY29wZS5xdWVzdGlvbkJvZHkpe1xyXG4gICAgICAgICAgICAgICAgUXVlc3Rpb25zU3ZjLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICdkaWNrZXl4eHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkc2NvcGUucXVlc3Rpb25UaXRsZSxcclxuICAgICAgICAgICAgICAgICAgICBib2R5OiAkc2NvcGUucXVlc3Rpb25Cb2R5XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocXVlc3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5xdWVzdGlvbnMudW5zaGlmdChxdWVzdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucXVlc3Rpb25UaXRsZSA9IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucXVlc3Rpb25Cb2R5ID0gbnVsbFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgUXVlc3Rpb25zU3ZjLmZldGNoKClcclxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihxdWVzdGlvbnMpe1xyXG4gICAgICAgICAgICAkc2NvcGUucXVlc3Rpb25zID0gcXVlc3Rpb25zXHJcbiAgICAgICAgfSlcclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5zZXJ2aWNlKCdRdWVzdGlvbnNTdmMnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuICAgICAgICB0aGlzLmZldGNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3F1ZXN0aW9ucycpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3F1ZXN0aW9ucycsIHF1ZXN0aW9uKVxyXG4gICAgICAgIH1cclxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdSZWdpc3RlckN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBVc2VyU3ZjKSB7XHJcbiAgJHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xyXG4gICAgVXNlclN2Yy5yZWdpc3Rlcih1c2VybmFtZSwgcGFzc3dvcmQpXHJcbiAgICAudGhlbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAkc2NvcGUuJGVtaXQoJ2xvZ2luJywgdXNlcilcclxuICAgIH0pXHJcbiAgfVxyXG59KVxyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpIHtcclxuICAkcm91dGVQcm92aWRlclxyXG4gIC8vLndoZW4oJy8nLCAgICAgICAgIHsgY29udHJvbGxlcjogJ1Bvc3RzQ3RybCcsIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9xdWVzdGlvbnMuaHRtbCcgfSlcclxuICAud2hlbignL3JlZ2lzdGVyJywgeyBjb250cm9sbGVyOiAnUmVnaXN0ZXJDdHJsJywgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL3JlZ2lzdGVyLmh0bWwnIH0pXHJcbiAgLndoZW4oJy9sb2dpbicsICAgIHsgY29udHJvbGxlcjogJ0xvZ2luQ3RybCcsIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9sb2dpbi5odG1sJyB9KVxyXG4gIC53aGVuKCcvYXNrJywgICAgICB7IGNvbnRyb2xsZXI6ICdBc2tDdHJsJywgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL2Fzay5odG1sJ30pXHJcbiAgLndoZW4oJy8nLCAgICAgICAgIHsgY29udHJvbGxlcjogJ1F1ZXN0aW9uc0N0cmwnLCB0ZW1wbGF0ZVVybDonL3RlbXBsYXRlcy9xdWVzdGlvbnMuaHRtbCcgfSlcclxufSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5zZXJ2aWNlKCdVc2VyU3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcbiAgdmFyIHN2YyA9IHRoaXNcclxuICBzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMnKVxyXG4gICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXHJcbiAgICB9KVxyXG4gIH1cclxuICBzdmMubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zZXNzaW9ucycsIHtcclxuICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmRcclxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgIHN2Yy50b2tlbiA9ICByZXNwb25zZS5kYXRhLnRva2VuO1xyXG4gICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHJlc3BvbnNlLmRhdGFcclxuICAgICAgcmV0dXJuIHN2Yy5nZXRVc2VyKClcclxuICAgIH0pXHJcbiAgfVxyXG4gIHN2Yy5yZWdpc3RlciA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywge1xyXG4gICAgdXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmRcclxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXHJcbiAgICB9KVxyXG4gIH1cclxuICAgIHN2Yy5sb2dvdXQgPSBmdW5jdGlvbigkbG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgICAgLy9jaGFuZ2VVc2VyKHt9KTtcclxuICAgICAgICBkZWxldGUgJGxvY2FsU3RvcmFnZS50b2tlbjtcclxuICAgIH1cclxufSlcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9